<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carte Interactive avec Leaflet</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="WhereIsOrange.css" />
</head>
<body>
    <div id="map"></div>
    <div id="sidebar">
        <h2>Nous rencontrer</h2>
        <p>Ici vous pouvez prendre rendez-vous pour rencontrer un professionnel dans l'un de nos nombreux points de rencontre :</p>
        <nav id="menu">
            <button id="menu-toggle">Choisir un point de rencontre :</button>
            <div id="menu-content"></div>
        </nav>
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // ICI GESTION DE LA CARTE
        const map = L.map('map').setView([47.209472, -1.575500], 13);

        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        const customIcon = L.icon({
            iconUrl: 'ping_salon.png',
            iconSize: [40, 40],
            iconAnchor: [15, 40],
            popupAnchor: [0, -40]
        });

        const points = [
            { name: "Epitech Nantes", lat: 47.209472, lng: -1.575500, description: "École de futurs ingénieurs informatiques. Ouvert 7j/7" },
            { name: "Le Village CA", lat: 47.254821, lng: -1.511267, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "IMT Atlantique", lat: 47.282171, lng: -1.520608, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "Atlanpole", lat: 47.287600, lng: -1.526002, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "EdTech Campus", lat: 47.281218, lng: -1.547476, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "Novapuls", lat: 47.214221, lng: -1.557460, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "La Cantine Numérique", lat: 47.206103, lng: -1.559992, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "La French Tech Nantes", lat: 47.206299, lng: -1.560421, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "La Halle 6", lat: 47.206061, lng: -1.561094, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "Le Solilab", lat: 47.201571, lng: -1.570677, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "Web2Day", lat: 47.206227, lng: -1.560325, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "Nantes Digital Week", lat: 47.213161, lng: -1.543620, description: "Incubateur de startups. Ouvert 7j/7" },
            { name: "Salon de la Data et de l'IA", lat: 47.213336, lng: -1.544168, description: "Incubateur de startups. Ouvert 7j/7" }
        ];

        points.forEach(point => {
            const marker = L.marker([point.lat, point.lng], { icon: customIcon }).addTo(map);
            marker.bindPopup(`<b>${point.name}</b><br>${point.description}`);
        });

        // ICI GESTION DE L'AFFICHAGE DU MENU
        const menuContent = document.getElementById('menu-content');

        points.forEach(point => {
            const a = document.createElement('a');
            a.textContent = point.name;
            a.href = "#";
            a.onclick = (e) => {
                e.preventDefault();
                map.setView([point.lat, point.lng], 15);
            };
            menuContent.appendChild(a);
        });

        const menuToggle = document.getElementById('menu-toggle');
        menuToggle.addEventListener('click', () => {
            if (menuContent.style.display === "block") {
                menuContent.style.display = "none";
            } else {
                menuContent.style.display = "block";
            }
        });
    </script>
</body>
</html>
